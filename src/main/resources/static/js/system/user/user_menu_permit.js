$().ready(function () {    console.log(menuTreeData)    $('#menuTree').on("changed.jstree", function (e, data) {        // console.log("selected:"+data.changed.selected); // newly selected        // console.log("deselected"+data.changed.deselected); // newly deselected    }).jstree({        'core': {            "animation" : 0,            "check_callback" : true,            "themes" : {                "theme" : "default",                "dots" : true            },            'data': JSON.parse(menuTreeData)        },        "types":{            "#" : {                "max_children" : 1,                "max_depth" : 4,                "valid_children" : ["root"]            }        },        "checkbox" : {            "keep_selected_style" : true,            "three_state":true,            "tie_selection":true        },        "plugins" : [            "checkbox",            "changed"        ]    });    var userPermitObj = {        userPermit:function (permitList) {          var param = {};          param["userPermitDTOList"] = permitList;          param["userId"] = $("#userId").val();          var ajaxObj = {            url: "/user/userMenuPermit",            param: JSON.stringify(param),            method: "POST",            contentType: "application/json"          };          commonJS.sendAjaxRequest(ajaxObj, function(data) {            if(data.code=="1"){              window.location.href = "/user/userManage";            }else{            }          });        }    };    $("#userMenuPermit").on("click",function () {/*提交菜单受权信息*/        var menuTree = $('#menuTree').jstree().get_checked(true);        if(menuTree.length<1) {            toastObj.toastMsg(true, true, "toast-top-center", "warning", "未选择任务菜单权限");            return;        }        var permitList = [];        $(menuTree).each(function (index,value) {          permitList.push({"permitId":value.id});            if("#"!==value.parent){              permitList.push({"permitId":value.parent});            }        });        userPermitObj.userPermit(permitList);    });});