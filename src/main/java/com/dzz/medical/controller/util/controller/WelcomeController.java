package com.dzz.medical.controller.util.controller;import com.dzz.medical.controller.system.common.tools.BsMenuBuildTools;import com.dzz.medical.controller.system.domain.bo.PermitBO;import com.google.common.base.Strings;import java.util.List;import javax.servlet.http.HttpServletRequest;import lombok.extern.slf4j.Slf4j;import org.springframework.stereotype.Controller;import org.springframework.ui.ModelMap;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;/** * 首页相关控制 * @author dzz * @since  2017年06月15 下午8:26 * @version  1.0.0 */@Controller@Slf4jpublic class WelcomeController extends BaseController {    /**     * 首页访问控制     * @param map map     * @return 首页     */    @RequestMapping(value = "/index",method = {RequestMethod.POST, RequestMethod.GET})    public String index(ModelMap map) {        map.put("userName", getUserName());        List<PermitBO> permitList = getUserMenuVO();        map.put("menuList", BsMenuBuildTools.buildPortalMenuTree(                BsMenuBuildTools.buildMenuTree(permitList, null)));        map.put("userRoleType",getUserRoleType());        return "index";    }    /**     * 欢迎页     * @return 欢迎页     */    @RequestMapping(value = "/welcome",method = {RequestMethod.POST, RequestMethod.GET})    public String welcome() {        return "welcome";    }    /**     * 登录访问地址     * @param request request     * @param map map     * @return 登录地址     */    @RequestMapping(value = "/login",method = RequestMethod.GET)    public String login(HttpServletRequest request,ModelMap map) {        return "login";    }    /**     * 欢迎页     * @param request request     * @return 欢迎页面     */    @RequestMapping(value = "",method = RequestMethod.GET)    public String welcome(HttpServletRequest request) {        return "login";    }    /**     * 登录失败     * @param request request     * @param map map     * @return 登录页     */    @RequestMapping(value = "/loginFailure",method = {RequestMethod.GET, RequestMethod.POST})    public String loginFailure(HttpServletRequest request, ModelMap map) {        String error = request.getParameter("error");        if (!Strings.isNullOrEmpty(error)) {            map.put("error", error);        }        return "login";    }}